<application xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://wadl.dev.java.net/2009/02">
  <doc title="phonebook" xml:lang="en"></doc>
  <resources base="http://example.com/api">
    <resource id="/phonebook/{id}" path="/phonebook/{id}">
      <method id="getEntry" name="GET">
        <doc title="getEntry" xml:lang="en">Returns entry with provided ID</doc>
        <request>
          <param name="id" type="xsd:string" required="true">
            <doc title="id" xml:lang="en"></doc>
          </param>
        </request>
        <response status="200">
          <representation mediaType="application/json" href="#phonebookEntries" />
        </response>
        <response status="401">
          <doc title="401" xml:lang="en">User not authorized</doc>
        </response>
        <response status="404">
          <doc title="404" xml:lang="en">Entry not found for given ID</doc>
        </response>
      </method>
      <method id="update" name="PUT">
        <doc title="update" xml:lang="en">Updates an existing entry in the phonebook</doc>
        <request>
          <param name="id" type="xsd:string" required="true">
            <doc title="id" xml:lang="en"></doc>
          </param>
          <representation mediaType="application/json" href="#phonebookEntry" />
        </request>
        <response status="200">
          <representation mediaType="application/json" href="#phonebookEntry" />
        </response>
        <response status="401">
          <doc title="401" xml:lang="en">User not authorized</doc>
        </response>
        <response status="404">
          <doc title="404" xml:lang="en">Entry not found for given ID</doc>
        </response>
      </method>
      <method id="deleteEntry" name="DELETE">
        <doc title="deleteEntry" xml:lang="en">Deletes an existing entry from the phonebook</doc>
        <request>
          <param name="id" type="xsd:string" required="true">
            <doc title="id" xml:lang="en"></doc>
          </param>
        </request>
        <response status="401">
          <doc title="401" xml:lang="en">User not authorized</doc>
        </response>
        <response status="404">
          <doc title="404" xml:lang="en">Entry not found for given ID</doc>
        </response>
      </method>
    </resource>
    <resource id="/phonebook" path="/phonebook">
      <method id="create" name="POST">
        <doc title="create" xml:lang="en">Adds entry to phonebook</doc>
        <request>
          <representation mediaType="application/json" href="#phonebookEntry" />
        </request>
        <response status="200">
          <representation element="xsd:string" />
        </response>
        <response status="401">
          <doc title="401" xml:lang="en">User not authorized</doc>
        </response>
      </method>
      <method id="queryPhonebook" name="GET">
        <doc title="queryPhonebook" xml:lang="en">Returns list of entries matching the query</doc>
        <request>
          <param name="title" type="xsd:string">
            <doc title="title" xml:lang="en"></doc>
          </param>
          <param name="firstname" type="xsd:string">
            <doc title="firstname" xml:lang="en"></doc>
          </param>
          <param name="lastname" type="xsd:string">
            <doc title="lastname" xml:lang="en"></doc>
          </param>
        </request>
        <response status="200">
          <representation mediaType="application/json" href="#phonebookEntries" />
        </response>
        <response status="401">
          <doc title="401" xml:lang="en">User not authorized</doc>
        </response>
      </method>
    </resource>
    <resource id="/user" path="/user">
      <method id="createUser" name="POST">
        <doc title="createUser" xml:lang="en">Creates new user entry</doc>
        <request />
        <response status="200">
          <representation mediaType="application/json" href="#userEntry" />
        </response>
      </method>
    </resource>
  </resources>
  <representation id="phonebookEntries" mediaType="application/json">
    <doc title="phonebookEntries" xml:lang="en"></doc>
    <param href="#Entry" name="entries" repeating="true">
      <doc title="entries" xml:lang="en"></doc>
    </param>
  </representation>
  <representation id="Entry" mediaType="application/json">
    <doc title="Entry" xml:lang="en"></doc>
    <param name="firstName" type="xsd:string">
      <doc title="firstName" xml:lang="en"></doc>
    </param>
    <param name="id" type="xsd:float">
      <doc title="id" xml:lang="en"></doc>
    </param>
    <param name="lastName" type="xsd:string">
      <doc title="lastName" xml:lang="en"></doc>
    </param>
    <param name="phoneNumber" type="xsd:string">
      <doc title="phoneNumber" xml:lang="en"></doc>
    </param>
    <param name="title" type="xsd:string">
      <doc title="title" xml:lang="en"></doc>
    </param>
  </representation>
  <representation id="phonebookEntry" mediaType="application/json">
    <doc title="phonebookEntry" xml:lang="en"></doc>
    <param name="firstName" type="xsd:string">
      <doc title="firstName" xml:lang="en"></doc>
    </param>
    <param name="id" type="xsd:float">
      <doc title="id" xml:lang="en"></doc>
    </param>
    <param name="lastName" type="xsd:string">
      <doc title="lastName" xml:lang="en"></doc>
    </param>
    <param name="phoneNumber" type="xsd:string">
      <doc title="phoneNumber" xml:lang="en"></doc>
    </param>
    <param name="title" type="xsd:string">
      <doc title="title" xml:lang="en"></doc>
    </param>
  </representation>
  <representation id="userEntry" mediaType="application/json">
    <doc title="userEntry" xml:lang="en"></doc>
    <param name="userkey" type="xsd:string">
      <doc title="userkey" xml:lang="en"></doc>
    </param>
  </representation>
</application>
